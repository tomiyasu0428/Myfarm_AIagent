# Git運用・開発コントリビューションガイド

このドキュメントは、本プロジェクトにおけるGitのブランチ戦略、コミットメッセージ、プルリクエストの規約を定めたものです。円滑な開発とコードの保守性向上のため、以下のルールに従ってください。

---

## 1. ブランチ戦略 (Branching Strategy)

- **`main` ブランチ:**
    - 常に安定し、デプロイ可能な状態を保ちます。
    - 直接 `main` ブランチにコミットすることは禁止します。すべての変更はプルリクエストを通じてマージします。

- **フィーチャーブランチ (Feature Branch):**
    - 新しい機能の開発やタスクへの対応は、必ず `main` ブランチから新しいブランチを作成して行います。
    - ブランチ名は、その内容が分かりやすいように、かつタスク管理ファイルと連携できるように命名します。

### ブランチ命名規則
`{種別}/{タスクID}-{簡潔な説明}`

- **種別:**
    - `feature`: 新機能の実装 (例: `feature/T-02-02-get-today-tasks`)
    - `fix`: バグ修正 (例: `fix/T-03-01-agent-definition-error`)
    - `docs`: ドキュメントの追加・修正 (例: `docs/update-readme`)
    - `refactor`: パフォーマンス改善など、仕様変更を伴わないコードのリファクタリング

---

## 2. コミットメッセージ (Commit Messages)

- コミットメッセージは、**変更内容を簡潔に、しかし明確に**記述します。
- 1コミットは、1つの論理的な作業単位で行います（例：「タスク取得ツールを追加」と「READMEを修正」は別々のコミットにする）。
- メッセージは日本語で統一します。

### コミットメッセージのフォーマット
`{種別}({影響範囲}): {タスクID} {要約}`

- **種別:**
    - `feat`: 新機能 (A new feature)
    - `fix`: バグ修正 (A bug fix)
    - `docs`: ドキュメントのみの変更 (Documentation only changes)
    - `style`: フォーマットの修正など、コードの意味に影響を与えない変更 (Changes that do not affect the meaning of the code)
    - `refactor`: バグ修正も機能追加も行わないコードの変更 (A code change that neither fixes a bug nor adds a feature)
    - `perf`: パフォーマンスを向上させるコード変更 (A code change that improves performance)
    - `test`: 不足しているテストの追加や既存のテストの修正 (Adding missing tests or correcting existing tests)
    - `chore`: ビルドプロセスや、パッケージマネージャーの設定変更など (Changes to the build process or auxiliary tools and libraries such as documentation generation)
- **影響範囲 (任意):** 変更が影響するモジュール名 (例: `agent`, `tools`, `airtable`)
- **タスクID (任意):** `アグリエージェント_タスク.md` に記載のID
- **要約:** 変更内容を50文字以内で記述

#### 良いコミットメッセージの例:

```
feat(tools): T-02-02 今日の作業タスクを取得する関数を追加
```

```
docs(readme): T-01-04 READMEに開発環境のセットアップ手順を追記
```

---

## 3. プルリクエスト (Pull Requests)

- フィーチャーブランチでの作業が完了したら、`main` ブランチへのプルリクエストを作成します。
- プルリクエストのタイトルは、その内容が明確にわかるように以下の形式で記述します。GitHubが自動的に `#1`, `#2` のような番号を付与しますので、手動でタイトルに含める必要はありません。

### PRタイトル形式
`[{種別}][{タスクID}] {要約}`

- **種別:** `FEAT`, `FIX`, `DOCS`, `REFACTOR` など（大文字を推奨）
- **タスクID (任意):** `アグリエージェント_タスク.md` に記載のID
- **要約:** PRの目的を簡潔に記述

#### 良いPRタイトルの例:
- `[FEAT][T-02-02] 今日の作業タスク取得ツールを実装`
- `[DOCS][README] 開発環境のセットアップ手順を追記`

### PR本文
- プルリクエストの説明（本文）には、どのような変更を行ったのか、なぜその変更が必要だったのか、関連するタスクIDなどを詳細に記述します。
- 可能であれば、自分自身でレビューを行い、意図しない変更が含まれていないかを確認してからマージします。 